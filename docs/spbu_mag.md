# Магистратура СПбГУ
Файл [`spbu_mag.py`](../spbu_mag.py).

## Источник
Списки конкурсов находятся на странице <https://cabinet.spbu.ru/Lists/Mag_EntryLists/>.

## Работа скрипта по шагам
На вход принимается:
- список страниц, с которых нужно собрать данные (`None` вместо списка, если нужно собрать данные со всевозможных конкурсов);
- список методов сохранения данных (если список пустой, выдается предупреждение).

Основная задача:
- Если нужно построить список конкурсов, то происходит построение.
- В словарь собираются поступающие для каждого конкурса (асинхронно многопоточно): парсятся общие для конкурса свойства, далее происходит итерация по таблице.
- Словарь передается в каждый метод сохранения с именем `spbu-mag`.

## Собираемые данные
Следующие данные собираются с сайта о каждом поступающем (если есть):

Признак | Название | Тип
--- | --- | ---
Направление подготовки / Специальность | `speciality` | Строка
Образовательная программа | `eduProg` | Строка
ФИО абитуриента | `abitName` | Строка
Тип отбора | `contestType` | Строка
Баллы за конкурсы | `grades` | Словарь вида `{предмет: дробное_или_null}`
Баллы за индивидуальные достижения (*сумма*) | `extraBonus` | Дробное или `null`
Аттестат (*подлинник* или *копия*?) | `original` | Подлинник &mdash; `True`, копия &mdash; `False`

## Пример одной записи из JSON файла
```json
{
  "https://cabinet.spbu.ru/Lists/Mag_EntryLists/list2_1_2_2501_975_0.html": [
    {
      "speciality": "43.04.02 Туризм",
      "eduProg": "Менеджмент туристских дестинаций",
      "abitName": "Фамилия Имя Отчество",
      "contestType": "дог.",
      "grades": {
        "Основы туристской деятельности (портфолио)": 14.0
      },
      "extraBonus": 0.0,
      "original": false
    }
  ]
}
```
