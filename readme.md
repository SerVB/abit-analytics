# Сбор данных о поступающих в ВУЗы России
Летняя учебная практика в 2018 г.

**Руководитель**: Паринов Андрей Андреевич.

## Технологии
- *Python 3*.
- Библиотеки *urllib*, *BeautifulSoup 4*, *threading*, *logging*, *json*.

## Собираемые данные
Следующие данные сохраняются и в структуру в Python, и в json файл:

Признак | Название | Тип
--- | --- | ---
ФИО абитуриента | `abitName` | Строка
Дата рождения | `birthday` | Строка в формате `дд.мм.гггг`
Дата подачи документов |
Факультет |
Направление подготовки / Специальность | `specialty` | Строка
Образовательная программа | `eduProg` | Строка
Основа обучения (*бюджет* или *коммерция*?) | `forMoney` | Коммерция &mdash; `True`, бюджет &mdash; `False`
Баллы ЕГЭ (*по предметам* и *сумма*) | `grades` | Словарь вида { `предмет1`: `балл1`, `предмет2`: `балл2`, `предмет3`: `балл3`, `"sum"`: `сумма баллов за предметы и за ИД` }, баллы десятичные (`null`, если н/д)
Индивидуальные достижения (*сумма*) | `extraBonus` | Десятичное (`null`, если н/д)
Аттестат (*подлинник* или *копия*?) | `original` | Подлинник &mdash; `True`, копия &mdash; `False`
Форма обучения (*очная* или *очно-заочная*?) | `onlyInWalls` | Очная &mdash; `True`, очно-заочная &mdash; `False`
Тип отбора (*общий конкурс* или *без вступительных испытаний* или *вне конкурса*?) | `contestType` | Строка: общий конкурс &mdash; `common`, без вступительных испытаний &mdash; `bvi`, вне конкурса &mdash; `vk`

Некоторых данных может не быть.

## Отслеживаемые ВУЗы
### СПбГУ
Списки поступающих находятся на странице <https://cabinet.spbu.ru/Lists/1k_EntryLists/>, где у каждого поступающего есть ссылки на таблицы с конкурсами.

Работа скрипта по шагам:
- Строится список поступающих.
- Вытаскиваются конкурсы для каждого поступающего (асинхронно).
- Список конкурсов объединяется.
- Вытаскиваются поступающие для каждого конкурса (асинхронно): парсятся общие для конкурса свойства, далее происходит итерация по таблице.
- Список поступающих объединяется.
- Список сохраняется в файл `data.json`. 

Пример выходного файла:

```json
[
    {
        "specialty": "47.03.03 Религиоведение",
        "eduProg": "СВ.5042.2018 Религиоведение",
        "onlyInWalls": true,
        "forMoney": false,
        "abitName": "Фамилия Имя Отчество",
        "birthday": "30.05.2000",
        "contestType": "common",
        "grades": {
            "sum": 282.0,
            "История": 91.0,
            "Обществознание": 88.0,
            "Русский язык": 100.0
        },
        "extraBonus": 3.0,
        "original": true,
        "source-page": "https://cabinet.spbu.ru/Lists/1k_EntryLists/list_282abfb0-3bbe-4c26-ba3f-d86356ddba05.html"
    },
    /* Здесь остальные строки файла*/
]
```
